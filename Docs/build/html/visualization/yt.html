

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Visualization with yt (for plotfiles) &mdash; WarpX  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Visualizing back-transformed diagnostics" href="backtransformed_diags.html" />
    <link rel="prev" title="Visualizing the simulation results" href="visualization.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> WarpX
          

          
          </a>

          
            
            
              <div class="version">
                20.02
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../building/building.html">Building/installing WarpX</a></li>
<li class="toctree-l1"><a class="reference internal" href="../running_cpp/running_cpp.html">Running WarpX as an executable</a></li>
<li class="toctree-l1"><a class="reference internal" href="../running_python/running_python.html">Running WarpX from Python</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="visualization.html">Visualizing the simulation results</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Visualization with yt (for plotfiles)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#installation">Installation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#visualizing-the-data">Visualizing the data</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#field-data">Field data</a></li>
<li class="toctree-l4"><a class="reference internal" href="#particle-data">Particle data</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#further-information">Further information</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="backtransformed_diags.html">Visualizing back-transformed diagnostics</a></li>
<li class="toctree-l2"><a class="reference internal" href="reduced_diags.html">Reduced diagnostics</a></li>
<li class="toctree-l2"><a class="reference internal" href="visit.html">Visualization with Visit (for plotfiles)</a></li>
<li class="toctree-l2"><a class="reference internal" href="picviewer.html">PyQt-based visualization GUI: PICViewer (for both plotfiles and openPMD)</a></li>
<li class="toctree-l2"><a class="reference internal" href="openpmdviewer.html">Visualization with openPMD-viewer (for openPMD data)</a></li>
<li class="toctree-l2"><a class="reference internal" href="advanced.html">Advanced yt visualization, for developers (for plotfiles)</a></li>
<li class="toctree-l2"><a class="reference internal" href="plot_parallel.html">Out-of-the-box plotting script</a></li>
<li class="toctree-l2"><a class="reference internal" href="sensei.html">In situ Visualization with SENSEI</a></li>
<li class="toctree-l2"><a class="reference internal" href="ascent.html">In situ Visualization with Ascent</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../theory/theory.html">Theoretical background</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developers/developers.html">Developers documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developers/doxygen.html">Doxygen</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">WarpX</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="visualization.html">Visualizing the simulation results</a> &raquo;</li>
        
      <li>Visualization with yt (for plotfiles)</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/visualization/yt.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="visualization-with-yt-for-plotfiles">
<h1>Visualization with yt (for plotfiles)<a class="headerlink" href="#visualization-with-yt-for-plotfiles" title="Permalink to this headline">¶</a></h1>
<p><a class="reference external" href="http://yt-project.org/">yt</a> is a Python package that can help in analyzing
and visualizing WarpX data (among other data formats). It is convenient
to use yt within a <a class="reference external" href="http://jupyter.org/">Jupyter notebook</a>.</p>
<div class="section" id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h2>
<p>From the terminal, install the latest version of yt:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="n">cython</span>
<span class="n">pip</span> <span class="n">install</span> <span class="n">git</span><span class="o">+</span><span class="nl">https</span><span class="p">:</span><span class="c1">//github.com/yt-project/yt.git</span>
</pre></div>
</div>
<p>Alternatively, yt can be installed via their installation script, see <a class="reference external" href="https://yt-project.org/doc/installing.html">yt installation web page</a>, which can be particularly useful to setup a post-processing workflow on supercomputers (see instructions in <a class="reference internal" href="../building/summit.html"><span class="doc">Building WarpX for Summit (OLCF)</span></a> to install yt on Summit).</p>
</div>
<div class="section" id="visualizing-the-data">
<h2>Visualizing the data<a class="headerlink" href="#visualizing-the-data" title="Permalink to this headline">¶</a></h2>
<p>Once data (“plotfiles”) has been created by the simulation, open a Jupyter notebook from
the terminal:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">jupyter</span> <span class="n">notebook</span>
</pre></div>
</div>
<p>Then use the following commands in the first cell of the notebook to import yt
and load the first plot file:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span>import yt
ds = yt.load(&#39;./diags/plotfiles/plt00000/&#39;)
</pre></div>
</div>
<p>The list of field data and particle data stored can be seen with:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">ds</span><span class="p">.</span><span class="n">field_list</span>
</pre></div>
</div>
<p>For a quick start-up, the most useful commands for post-processing can be found
in our Jupyter notebook
<a class="reference download internal" download="" href="../_downloads/f6729b9013c3b57f9d96663a0a6dd554/Visualization.ipynb"><code class="xref download docutils literal notranslate"><span class="pre">Visualization.ipynb</span></code></a></p>
<div class="section" id="field-data">
<h3>Field data<a class="headerlink" href="#field-data" title="Permalink to this headline">¶</a></h3>
<p>Field data can be visualized using <code class="docutils literal notranslate"><span class="pre">yt.SlicePlot</span></code> (see the docstring of
this function <a class="reference external" href="http://yt-project.org/doc/reference/api/yt.visualization.plot_window.html#yt.visualization.plot_window.SlicePlot">here</a>)</p>
<p>For instance, in order to plot the field <code class="docutils literal notranslate"><span class="pre">Ex</span></code> in a slice orthogonal to <code class="docutils literal notranslate"><span class="pre">y</span></code> (<code class="docutils literal notranslate"><span class="pre">1</span></code>):</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span>yt.SlicePlot( ds, 1, &#39;Ex&#39;, origin=&#39;native&#39; )
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><cite>yt.SlicePlot</cite> creates a 2D plot with the same aspect ratio as the physical
size of the simulation box. Sometimes this can lead to very elongated plots
that are difficult to read. You can modify the aspect ratio with the
<cite>aspect</cite> argument ; for instance:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span>yt.SlicePlot( ds, 1, &#39;Ex&#39;, aspect=1./10 )
</pre></div>
</div>
</div>
<p>Alternatively, the data can be obtained as a <a class="reference external" href="http://www.numpy.org/">numpy</a> array.</p>
<p>For instance, in order to obtain the field <cite>jz</cite> (on level 0) as a numpy array:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span>ad0 = ds.covering_grid(level=0, left_edge=ds.domain_left_edge, dims=ds.domain_dimensions)
jz_array = ad0[&#39;jz&#39;].to_ndarray()
</pre></div>
</div>
</div>
<div class="section" id="particle-data">
<h3>Particle data<a class="headerlink" href="#particle-data" title="Permalink to this headline">¶</a></h3>
<p>Particle data can be visualized using <code class="docutils literal notranslate"><span class="pre">yt.ParticlePhasePlot</span></code> (see the docstring
<a class="reference external" href="http://yt-project.org/doc/reference/api/yt.visualization.particle_plots.html?highlight=particlephaseplot#yt.visualization.particle_plots.ParticlePhasePlot">here</a>).</p>
<p>For instance, in order to plot the particles’ <code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">y</span></code> positions:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span>yt.ParticlePhasePlot( ds.all_data(), &#39;particle_position_x&#39;, &#39;particle_position_y&#39;, &#39;particle_weight&#39;)
</pre></div>
</div>
<p>Alternatively, the data can be obtained as a <a class="reference external" href="http://www.numpy.org/">numpy</a> array.</p>
<p>For instance, in order to obtain the array of position <cite>x</cite> as a numpy array:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span>ad = ds.all_data()
x = ad[&#39;particle_position_x&#39;].to_ndarray()
</pre></div>
</div>
</div>
</div>
<div class="section" id="further-information">
<h2>Further information<a class="headerlink" href="#further-information" title="Permalink to this headline">¶</a></h2>
<p>A lot more information can be obtained from the yt documentation, and the
corresponding notebook tutorials <a class="reference external" href="http://yt-project.org/doc/">here</a>.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="backtransformed_diags.html" class="btn btn-neutral float-right" title="Visualizing back-transformed diagnostics" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="visualization.html" class="btn btn-neutral float-left" title="Visualizing the simulation results" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, WarpX collaboration

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>