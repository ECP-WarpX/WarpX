#warpx.abort_on_warning_threshold = "high"
warpx.serialize_initial_conditions = 0
warpx.do_dynamic_scheduling = 0
particles.do_tiling = 0

warpx.B_ext_grid_init_style = "read_from_file"
#warpx.read_fields_from_path = "../../../../openpmd_data_rz.h5"
warpx.read_fields_from_path = "/Users/yin/warpx/openpmd_data_rz.h5"

warpx.do_nodal = 1
warpx.do_electrostatic = labframe

#################################
####### GENERAL PARAMETERS ######
#################################
max_step = 300
amr.n_cell = 40 40
warpx.numprocs = 1 1
amr.max_level = 0
geometry.dims = RZ

geometry.prob_lo =  0.0  0.0
geometry.prob_hi =  1.0  5.0

#################################
###### Boundary Condition #######
#################################
boundary.field_lo = none pec
boundary.field_hi = pec  pec
boundary.potential_lo_x = 0
boundary.potential_hi_x = 0
boundary.potential_lo_y = 0
boundary.potential_hi_y = 0
boundary.potential_lo_z = 0
boundary.potential_hi_z = 0

#################################
############ NUMERICS ###########
#################################
warpx.serialize_initial_conditions = 1
warpx.verbose = 1
warpx.const_dt = 4.40917904849092e-7
#warpx.cfl = 5918.54275317
warpx.use_filter = 0

# Order of particle shape factors
algo.particle_shape = 1

#################################
############ PLASMA #############
#################################
particles.species_names = proton electron
proton.injection_style = "SingleParticle"
proton.single_particle_pos = 0.0  0.2  2.5
proton.single_particle_vel = 9.506735958279367e-05  0.0  0.00013435537232359165
proton.single_particle_weight = 1.0
proton.do_not_deposit = 1
proton.mass = m_p
proton.charge = q_e

electron.injection_style = "SingleParticle"
electron.single_particle_pos = 0.0  0.2  2.5
electron.single_particle_vel = 0.0  0.0  0.0
electron.single_particle_weight = 1.0
electron.mass = 1.0
electron.charge = -q_e*1.0e-10

# Diagnostics
diagnostics.diags_names = diag1
diag1.intervals = 1
diag1.diag_type = Full
diag1.format = openpmd
diag1.openpmd_backend = h5

