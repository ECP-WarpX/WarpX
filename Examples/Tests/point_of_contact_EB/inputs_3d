amr.max_level = 1
warpx.fine_tag_lo = 0.0  -0.5
warpx.fine_tag_hi = 0.25  0.0

max_step = 15


amr.n_cell = 64 64 64
amr.blocking_factor = 8
amr.max_grid_size = 128

geometry.dims = 3
geometry.prob_lo     = -0.5 -0.5 -0.5
geometry.prob_hi     = 0.5  0.5 0.5

boundary.field_lo = pec pec pec
boundary.field_hi = pec pec pec
boundary.potential_lo_x = 0
boundary.potential_hi_x = 0
boundary.potential_lo_y = 0
boundary.potential_hi_y = 0
boundary.potential_lo_z = 0
boundary.potential_hi_z = 0

warpx.const_dt = 1.216119097e-9
warpx.eb_implicit_function = "max(max(max(x-0.2,-0.2-x), max(y-0.2,-0.2-y)), max(z-0.2,-0.2-z))"

# Do not evolve the E and B fields
algo.maxwell_solver = none
algo.field_gathering = momentum-conserving
algo.particle_shape = 1

particles.species_names = electron
electron.charge = -q_e
electron.mass = m_e
electron.injection_style = "SingleParticle"
electron.single_particle_pos = -0.25 0 0
electron.single_particle_u = 1 0.5 0.0
electron.single_particle_weight = 1



electron.save_particles_at_eb = 1

diagnostics.diags_names = diag1 diag2 diag3

diag1.intervals = 1
diag1.diag_type = Full
diag1.fields_to_plot = Ex

diag2.intervals = 1
diag2.diag_type = Full
diag2.fields_to_plot = Ex
diag2.format = openpmd

diag3.diag_type = BoundaryScraping
diag3.format = openpmd
diag1.intervals = 2
